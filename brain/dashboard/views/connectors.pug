extends layout

block content
  .row.justify-content-between
    .col
      h1 Connectors
  
  .list-group
    if connectors
      each connector in connectors
        .list-group-item.flex-column.align-items-start(id="connector-"+connector._id)
          .d-flex.w-100.justify-content-between
            h4.mb-1= connector.name
            div
              a.action.mb-1(
                role="button"
                title=( connector.active ? "Deactivate connector" : "Activate connector")
                style="margin-left: 1em;"
                aria-label=( connector.active ? "Deactivate connector" : "Activate skill")
                class=( connector.active ? "text-success" : "text-danger")
                data-connector=connector._id data-active=(`${connector.active}`) onClick="toggleConnector(this)"
                )
                if connector.active
                  i.fas.fa-toggle-on
                else
                  i.fas.fa-toggle-off
              a.action.mb-1.text-danger(role="button" title="Delete connector "+connector.name style="margin-left: 1em;" aria-label="Delete connector "+connector.name data-connector=connector._id onClick="deleteConnector(this)")
                i.fas.fa-trash
              a.action.displayer(role="button" title="Display connector." style="margin-left: 1em;" onClick=`toggleConnectorDetail('${connector._id}')`)
                i.fas.fa-caret-down
          .collapse(id="detail-"+connector._id)
            hr
            h5
              | Token
              a.action.mb-1.text-warning(role="button" style="margin-left: 1em;" title="Refresh token" aria-label="Refresh token" data-connector=connector._id onClick="refreshToken(this)")
                i.fas.fa-sync
            code.token(disabled value=connector.token)

  script
    include ../public/js/connectors.js
